<?xml version="1.0" encoding="UTF-8"?>
<?xml-model href="http://www.tei-c.org/release/xml/tei/custom/schema/relaxng/tei_odds.rng" type="application/xml" schematypens="http://relaxng.org/ns/structure/1.0"?>
<?xml-model href="http://www.tei-c.org/release/xml/tei/custom/schema/relaxng/tei_odds.rng" type="application/xml"
	schematypens="http://purl.oclc.org/dsdl/schematron"?>
<TEI xmlns="http://www.tei-c.org/ns/1.0" xmlns:s="http://purl.oclc.org/dsdl/schematron">
   <teiHeader> 
      <fileDesc>
         <titleStmt>
            <title>ACDH-CH Dictionary Schema</title>
            <author>
               <name xml:id="CM">Charly Mörth</name>
            </author>
            <author>
               <name xml:id="DS">Daniel Schopper</name>
            </author>
            <respStmt>
               <resp>contributor</resp>
               <name xml:id="MRS">Michaela Rausch-Supola</name>
            </respStmt>
            <respStmt>
               <resp>contributor</resp>
               <name xml:id="KS">Kinga Sramó</name>
            </respStmt>
            <respStmt>
               <resp>contributor</resp>
               <name xml:id="VE">Veronika Engler</name>
            </respStmt>
         </titleStmt>
         
         <publicationStmt>
            <publisher>Austrian Centre for Digital Humanities and Cultural Heritage</publisher>
            <date>2021ff.</date>
         </publicationStmt>
         
         <sourceDesc>
            <p>This ODD is a customization of TEI Lex-0, adapted for the needs of the dictionaries produced at ACDH-CH.</p>
         </sourceDesc>
      </fileDesc>
      <revisionDesc>
         <change status="draft" when="2021-12-02">set up ODD, git repo and processing structure; incorporating most definitions from the VICAV dicts ODD, except for the prose part and the fvLib – TODO discuss if that is general enough to be included here or if it should be kept as a project/dictionary-specific vocabulary.</change>
         <change status="draft" when="2024-07-26" who="#DS">fixing elementSpec for body; reducing tagset</change>
         <change status="draft" when="2025-10-26" who="#CM">enhanced chapters 2. Entries, 4. Language Identifiers and 6. Forms </change>
         <change status="draft" when="2025-10-26" who="#CM">added chapters 7. Etymologies, 8. Linking, 9. Bibliographic information</change>
      </revisionDesc>
   </teiHeader>
   <text>
      <front>
         <argument>
            <p>This TEI customization is a catch-all schema which comparable dictionaries encoded at the ACDH-CH 
               should conform with. It serves two purposes: (1) It should define a compatibility layer between 
               TEI Lex-0 – which it is based on – and legacy dictionaries (esp. VICAV), clearly defining where 
               these dictionaries differ from Lex-0 while they are not ported to it; (2) in the future, it 
               should define the baseline ODD which specific dictionaries should source and extend by their 
               own rules, in order to define a schema which can be used for finer-grained validation.</p>
            
            <p>The examples are mainly taken from the following dictionaries:
               <list>
                  <item>The VICAV Dictionary of Egyptian Arabic (VDEA)</item>
                  <item>The SHAWI Dictionary (DShaAr)</item>
               </list>
            </p>
            
            <p>Being a derivate of TEI Lex-0, the documentation in this ODD only describes where it diverges 
               from the cannonical TEI Lex-0 ODD and project-specific practices.</p>
         </argument>
      </front>
      
      <body>
         <head>Documentation</head>
         <div>
            <head>Macrostructure</head>
            <p>The dictionaries covered by this schema are encoded according to the Guidelines of
               the Text Encoding Initiative (P5). They are conceptualised as a specific type of text
               and are therefore encoded with <gi>text</gi> elements. Each dictionary starts with a
                  <gi>teiHeader</gi> element which contains the metadata of the dictionary.</p>
            <p>The lexicographic data are placed in typed <gi>div</gi> elements. Thus, our TEI
               dictionaries basically look like this:</p>
            <egXML xmlns="http://www.tei-c.org/ns/Examples" valid="feasible">
               <TEI version="5.0">
                  <teiHeader> 
                     ... 
                  </teiHeader>
                  <text>
                     <body>
                        <div type="entries">
                           <entry>...</entry>
                           <entry>...</entry>
                        </div>
                        
                        <div type="examples">
                           <cit type="example">...</cit>
                           <cit type="example">...</cit>
                        </div>
                     </body>
                  </text>
               </TEI>
            </egXML>
            
            <p>The <gi>body</gi> of a dictionary which conforms to this specification should contain
               two divisions: a series of entries within <tag>div type="entries"</tag> and a series
               of examples, encoded as <tag>div type="examples"</tag>. Examples are, as usual,
               encoded as <tag>cit</tag>/<tag>quote</tag> constructs. The rationale behind keeping
               example sentences outside the entries is to be able to reuse them in different parts
               of the dictionary.</p>
            <p>
               <specList>
                  <specDesc key="body"/>
                  <specDesc key="div"/>
               </specList>
            </p>
            <p>In order to encode that an example should be integrated into an entry, the 
               construct <tag>xr</tag>/<tag>ref type="example"</tag> is used as a direct child f</p>
         </div>
         
         <div>
            <head>Entries</head>
            <p>The content model of dictionary entries closely align with the specs of Lex-0.</p>
            <p>Unlike Lex-0, bibliographic references documenting the source of an entry (or parts of it) are attached at the end of this entry.</p>
            <!-- TODO -->
            <p>
               <specList>
                  <specDesc key="entry"/>
               </specList>
            </p>
            
            <p>The entry contains the following parts in the following order. Optional components are put in brackets:
               <list>
                  <item>Lemma</item>
                  <item>(Morphological forms)</item>
                  <item>(Derived forms)</item>
                  <item>Grammatical information related to the lemma</item>
                  <item>(Etymology)</item>
                  <item>Senses</item>
                  <item>(Bibliographic references)</item>
               </list>
            </p>
         </div>
         
         <div>
            <head>Transcription</head>
            
            <p>In Arabic corpora and dictionaries, hyphens are put between all affixes, not between inflexional affixes, e.g. ʕam-yiktibū-ha 'they write it', b-al-beet 'in the house'.</p>
             
         </div>
         <div>
            <head>Language identifiers</head>
            <p>All elements containing object language (lemmas, variants, inflected forms; including
               translations) must bear an <att>xml:lang</att> attribute. In accordance with the
               recommendation of the Lex-0 specification (section <ref
                  target="https://dariah-eric.github.io/lexicalresources/pages/TEILex0/TEILex0.html#index.xml-body.1_div.3_div.2"
                  >3.2. Mandatory attributes</ref>) we require thus <att>xml:lang</att> to be on 
               one of the following elements (many of which are "container" elements):</p>

            <list>
               <item>Entries (<gi>entry</gi>)</item>
               <item>The orthographical representations of all <gi>form</gi>s: 
                  this includes <tag>orth</tag> in etymologgies.</item>
               <item>Examples (<tag>tei:cit @type='example'</tag>)</item>
               <item>Translation equivalents (<tag>tei:cit
                  @type='translationEquivalent'</tag>)</item>
               <item>Translations within exapmles (<tag>tei:cit @type='translation'</tag>)</item>
               <item>All <tag>gram</tag> elements that contain data both in the object and working 
                  languages (e.g. <val>collocate</val>, <val>diaRoot</val>,
                     <val>governmant</val>,<val>root</val>,<val>synRoot</val>).</item>
            </list>
         </div>
         <div>
            <head>Provenance and status</head>
            <p>While usually changes of a TEI document are centrally documented in a <gi>revisionDesc</gi> element in the <gi>teiHeader</gi>, for technical reasons, we encode this information in-situ in each <gi>entry</gi> or example (<gi>cit</gi>). This information is collected at the end of each entry/example, as a series of feature structures (<tag>fs type="change"</tag>) which at least provide information of the parent records's status (<tag>f name="status"</tag>), the date of a change (<tag>f name="who"</tag>).</p>
            <egXML xmlns="http://www.tei-c.org/ns/Examples" valid="true">
               <fs type="change">​
                 <f name="who">​
                  <symbol value="stephan"/>​
                    </f>​
                 <f name="when">​
                  <symbol value="2014_09_17"/>​
                 </f>​
                 <f name="status">​
                  <symbol value="released"/>​
                 </f>​
               </fs>
            </egXML>
            
            <p>In some dictionaries, some statistics are collected within <gi>revisionDesc</gi>. For this <gi>measure</gi> within a <gi>change</gi> element is used:</p>
            <egXML xmlns="http://www.tei-c.org/ns/Examples">
               <change when="2018-09-11">
                  <measure type="records" quantity="48"/>
                  <measure type="entries" quantity="10"/>
                  <measure type="entryFrees" quantity="0"/>
                  <measure type="lemmas" quantity="10"/>
                  <measure type="releasedLemmas" quantity="0"/>
                  <measure type="mwus" quantity="0"/>
                  <measure type="cits" quantity="38"/>
                  <measure type="releasedCits" quantity="0"/>
                  <measure type="released" quantity="0"/>
               </change>
            </egXML>
            <p>In order to accomodate this information, the TEI Lex-0 schema is extended by adding the <gi>measure</gi> element.</p>
         </div>
         
         <div>
            <head>Forms</head>
            <p>All forms can have nested <tag>form type="variant"</tag> elements which are to be listed at the end of the respective form. 
            We have applied this construct only to phonological/morphological variants, not orthographic variants.</p>
            <egXML xmlns="http://www.tei-c.org/ns/Examples">
               <form type="inflected">
                  <gramGrp>
                     <gram type="number">plural</gram>
                  </gramGrp>
                  <orth>gufūn</orth>
                  <orth xml:lang="ar">جفون</orth>
                  
                  <form type="variant">
                     <orth>agfān</orth>
                     <orth xml:lang="ar">اجفان</orth>
                  </form>
               </form>                              
            </egXML>
            
            <p>Orthographical variants are encoded in several <tag>orth</tag> elements. </p>
            <egXML xmlns="http://www.tei-c.org/ns/Examples">
               <form type="lemma">
                  <orth xml:lang="ar-Latn">talāta</orth>
                  <orth xml:lang="ar">تلاتة</orth>
                  <orth xml:lang="ar">تلاته</orth>
                  <orth xml:lang="ar">ثلاثة</orth>
                  <orth xml:lang="ar">ثلاثه</orth>
               </form>
            </egXML>
         </div>
         
         <div>
            <head>Etymologies</head>
            <p>Etymologies are currently encoded in accordance with the following publication:<lb/> 
               <bibl type="article">                  
                  <author>Jack Bowers</author>,<author>Axel Herold</author>, <author>Laurent Romary</author>,
                  <author>Toma Tasovac</author>. <title>TEI Lex-0 Etym – towards terse recommendations for the encoding of etymological information.</title>
                  
               </bibl>
               <bibl type="journal">
                  <title>Journal of the Text Encoding Initiative</title>
                  <date>2022</date>
                  <ptr target="ff10.4000/jtei.4300ff.ffhal-03108781v2f"/>
               </bibl>
            </p>
            
            <p>We distinguish three cases: 
              <list>
                 <item>Single etymology</item>   
                 <item>Several competing etymologies</item>   
                 <item>Historical sequence of etymologies</item>   
              </list>
            </p>
            
            <p>In involved linguistic varieties are indicated with <att>xml:lang</att>.</p>
            <egXML xmlns="http://www.tei-c.org/ns/Examples" valid="feasible">
               <etym>
                  <cit type="etymon">
                     <form><orth xml:lang="it">sta bene</orth></form>                     
                  </cit>
               </etym>                         
            </egXML>
            
            <p>When there are several possible etymologies, <tag>etym</tag> contains several <tag>cit type="etymon"</tag> elements.            </p>
            <egXML xmlns="http://www.tei-c.org/ns/Examples" valid="feasible">
               <etym>
                  <cit type="etymon">
                     <form><orth xml:lang="en">plastic</orth></form>
                  </cit>
                  <cit type="etymon">
                     <form><orth xml:lang="fr">plastique</orth></form>
                  </cit>
               </etym>               
            </egXML>
            
            <p>To encode multiple stages of an etymology, <tag>etym</tag> elements are nested. The element at the highest 
               position in the hierarchy represents the most recent stage, the one at the lowest position the oldest stage. 
               The code below is part of the entry <foreign>kabl</foreign> `cable´ and implies: kabl ˂ cable (Eng.) ˂ cabulum/capulum (Latin) `rope´. </p>
            <egXML xmlns="http://www.tei-c.org/ns/Examples" valid="feasible">
               <etym>
                  <etym>
                     <cit type="etymon">
                        <form><orth xml:lang="la">cabulum</orth></form>
                     </cit>
                  </etym>
                  <cit type="etymon">
                     <form><orth xml:lang="en">cable</orth></form>
                  </cit>
               </etym>             
            </egXML>
         </div>
         
         <div>
            <head>Examples</head>
            <p>As stated before, examples are placed in <tag>div type="examples"</tag> elements. In accordance with lex-0 (7.5), 
               they are encoded as <code>cit/quote</code> constructs.</p>
            
            <p>Translations go into <tag>cit type="translation"</tag> elements.</p>
            <egXML xmlns="http://www.tei-c.org/ns/Examples">
               <cit xml:id="VDEA.amiira_cawza_qalam__001" type="example" xml:lang="ar-Latn">
                  <quote>amīra ʕawza ʔalam ruṣāṣ.</quote>
                  
                  <cit type="translation" xml:lang="en">
                     <quote>Amira needs a pencil.</quote>
                  </cit>
               </cit>
            </egXML>
            
            <p>A special case are proverbs which are encoded with @subtype="proverb" on the main container <tag>cit</tag>.</p>
            <p>Often literal translations are needed. These are encoded as <tag>cit type="translation" subtype="literal"</tag>.</p>
            <egXML xmlns="http://www.tei-c.org/ns/Examples">
               <cit type="example" subtype="proverb" xml:id="VDEA.cala_mihlak_il__001">
                  <quote>il-ʕagala min iš-šiṭān.</quote>
                  
                  <cit type="translation" xml:lang="en">
                     <quote>Haste makes waste.</quote>
                  </cit>
                  
                  <cit type="translation" subtype="literal" xml:lang="en">
                     <quote>Hasting comes from the devil.</quote>
                  </cit>
               </cit>                  
            </egXML>
         </div>
         
         <div>
            <head>Linking</head>
            <p>In accordance with Lex-0, all <tag>ref</tag> elements are applied inside of <tag>xr</tag> elements. 
               They can be used inside of forms and senses. In <tag>form</tag> elements, they should be 
               put after the last <tag>orth</tag> element.</p>
            <egXML xmlns="http://www.tei-c.org/ns/Examples">
               <form type="derivative">
                  <gramGrp>
                     <gram type="pos">verbalNoun</gram>
                  </gramGrp>
                  <orth xml:lang="ar-Latn">dars</orth>
                  <orth xml:lang="ar">درس</orth>
                  <xr type="related"><ref type="entry" target="#VDEA.dars_001"/></xr>
                  
                  <form type="variant">
                     <orth xml:lang="ar-Latn">dirāsa</orth>
                     <orth xml:lang="ar">دراسة</orth>
                     <orth xml:lang="ar">دراسه</orth>
                     <xr type="related"><ref type="entry" target="#VDEA.diraasa_001"></ref></xr>
                  </form>
               </form>
               
               
            </egXML>
            
            <p>The example pointers are put at the end of the <tag>sense</tag> element.</p>
            <egXML xmlns="http://www.tei-c.org/ns/Examples">
               <sense xml:id="VDEA.s_daras_001_0">
                  
                  ...                  
                  <xr><ref type="example" target="#VDEA.ahmad_biyidris_il_dash_001"></ref></xr>
               </sense>               
            </egXML>
         </div>
         
         <div>
            <head>Bibliographic information</head>
            <p>Bibliographical references are listed in a <tag>listBibl</tag> element at the end of each entry. 
               This sollution allows to provide exact information with respect to page numbers or other such 
               information.</p>
            
            <egXML xmlns="http://www.tei-c.org/ns/Examples">
               <listBibl type="literature">
                  <bibl xml:id="d1e112726">
                     <title ref="zot:Lentin2013"></title>
                     <biblScope unit="page">p.106</biblScope>
                  </bibl>
                  <bibl xml:id="d1e112808">
                     <title ref="zot:Younes2021"></title>
                     <biblScope unit="page">p.16</biblScope>
                  </bibl>
               </listBibl>               
            </egXML>
            
            <p>This information is referenced in <att>source</att> attributes which can flexibly be applied 
              in <tag>form</tag> but also other elements.</p>
            <egXML xmlns="http://www.tei-c.org/ns/Examples">
               <form source="#d1e112915" type="lemma">
                  <orth>kitab</orth>
               </form>              
            </egXML>
         </div>
         
         <div>
            <head>Legacy encoding</head>
            <p>As mentioned before, this ODD also tries to document encoding practies which are yet
               to be ported to a more cannonical TEI Lex-0 structure. These are indicated in the
               formal specification part of this document by the attribute <att>validUntil</att> or
               .</p>
            <div>
               <head>Morphosyntactic annotations</head>
               <p>Inflected forms (<tag>form type="inflected"</tag>) in a pre-Lex-0-phase have been encoded in ana <att>ana</att> attribute on the respective <tag>form type="variant"</tag> containing a pointer to an entry in a central feature / feature value library (cf. Budin, Majewski &amp; Mörth 2012).</p>
            </div>
            <div>
               <head>Multi-Word-Units</head>
               <p>In the legacy encoding scheme, entries describing multi-word-units (MWUs) were identifies by using <tag>form type="multiWordUnit</tag> to encode the entry's headword. This behaviour is supported by this ODD with a deprecation warning.</p>
            </div>
         </div>
         <div>
            <head>Further developments</head>
            <p>As legacy dictionaries will be gradually ported to Lex-0, the legacy definitions in this ODD will be reduced.</p>
         </div>
         <div>
            <head>Using this ODD in a new project / dictionary</head>
            <list>
               <item>Set up a new ODD and source it from this one.</item>
               <item>Define the languages in the dictionary by restricting the values of <att>xml:lang</att>.</item>
               <item>Identify which of the backward-compatability additions in this ODD are not relevant any more and override them, if necessary, in your new ODD.</item>
            </list>
         </div>
         <div>
            <head>Part 2: Formal Specification</head>
            
            <!--<schemaSpec ident="acdh-ch-dicts" source="https://raw.githubusercontent.com/acdh-oeaw/generic-dict-schema/main/schema/tmp/TEILex0.compiled.odd">-->
            <schemaSpec ident="acdh-ch-dicts" source="https://raw.githubusercontent.com/acdh-oeaw/generic-dict-schema/main/schema/tmp/TEILex0.compiled.odd">
               <moduleRef key="derived-module-TEILex0"/>

               <!-- We copy all modules from TEI Lex0 and exclude   -->
               <moduleRef key="analysis" except="c pc"/>
               <moduleRef key="core" except="hi q email num expan graphic"/>
               <moduleRef key="dictionaries" except="dictScrap hyph lbl syll stress"/>
               <moduleRef key="figures" except="figure"/>
               <moduleRef key="gaiji"/>
               <moduleRef key="header" except="xenoData"/>
               <moduleRef key="linking"/>
               <moduleRef key="namesdates"/>
               <moduleRef key="tei"/>
               <moduleRef key="textstructure" except="back front"/>
               
               <moduleRef key="transcr" except="metamark"/>
            
               <elementSpec ident="body" mode="change" module="textstructure">
                  <desc>contains the main content of the dictionary. It MUST include a <tag>div type="entries"</tag> and MAY include a <tag>div type="examples"</tag>.</desc>
                  <content>
                     <elementRef key="div" minOccurs="1" maxOccurs="2"/>
                  </content>
                  <constraintSpec ident="body-children" scheme="schematron">
                     <desc>assert typed div elements at the top of body</desc>
                     <constraint>
                        <s:rule context="tei:body">
                           <s:assert test="exists(tei:div[@type = 'entries'])">body must contain a div of type "entries".</s:assert>
                        </s:rule>
                     </constraint>
                  </constraintSpec>
               </elementSpec>
               <elementSpec ident="div" module="core" mode="change" xml:id="divSpec">
                  <constraintSpec ident="div-example-children" scheme="schematron">
                     <desc>assert content of top-level divisions</desc>
                     <constraint>
                        <s:rule context="tei:div[@type = 'examples']">
                           <s:assert test="every $e in * satisfies $e/self::tei:cit[@type = 'example']">div type="examples" may only contain cit type="example"</s:assert>
                        </s:rule>
                        <s:rule context="tei:div[@type = 'entries']">
                           <s:assert test="every $e in * satisfies $e/self::tei:entry">div type="entries" may only contain entry elements</s:assert>
                        </s:rule>
                     </constraint>
                  </constraintSpec>
                  <attList>
                     <attDef ident="type" mode="replace" usage="req">
                        <valList type="closed">
                           <valItem ident="entries">
                              <desc>contains all entries in a dictionary</desc>
                           </valItem>
                           <valItem ident="examples">
                              <desc>contains examples used in the dictionary</desc>
                           </valItem>
                        </valList>
                     </attDef>   
                  </attList>
                  <exemplum>
                     <egXML xmlns="http://www.tei-c.org/ns/Examples">
                        <TEI version="5.0">
                           <teiHeader> ... </teiHeader>
                           <text>
                              <body>
                                 <div type="entries">
                                    <entry>...</entry>
                                    <entry>...</entry>
                                 </div>
                                 <div type="examples">
                                    <cit type="example">...</cit>
                                    <cit type="example">...</cit>
                                 </div>
                              </body>
                           </text>
                        </TEI>
                     </egXML>
                  </exemplum>
               </elementSpec>               
            
               <!-- TEI Lex-0 adjustments to make the xsd deterministic 2024-06-26 -->
               <classSpec type="model" ident="model.hiLike" mode="change">
                  <classes mode="change">
                     <memberOf key="model.lexicalPhrase"  mode="delete"/>
                  </classes>
               </classSpec>
               <elementSpec ident="xr" mode="change">
                  <classes mode="change">
                     <memberOf key="model.quoteLike"  mode="delete"/>
                  </classes>
               </elementSpec>
               <elementSpec ident="lbl" mode="change">
                  <classes mode="change">
                     <memberOf key="model.emphLike"  mode="delete"/>
                  </classes>
               </elementSpec>
               <elementSpec ident="publicationStmt" mode="change">
                  <content>
                     <sequence>
                        <classRef key="model.publicationStmtPart.agency" minOccurs="1"
                           maxOccurs="unbounded"/>
                        <!-- elements model.publicationStmtPart.detail, except for availability, which is required in Lex-0 -->
                        <alternate minOccurs="0" maxOccurs="unbounded">
                           <classRef key="model.ptrLike"/>
                           <elementRef key="date"/>
                           <elementRef key="pubPlace"/>
                           <elementRef key="idno"/>
                        </alternate>
                        <elementRef key="availability"/>
                     </sequence>
                  </content>
               </elementSpec>
               
               <elementSpec ident="list" mode="change">
                  <content>
                     <sequence>
                        <classRef key="model.divTop" minOccurs="0"/>
                        <sequence minOccurs="1" maxOccurs="unbounded">
                           <elementRef key="label" minOccurs="0"/>
                           <elementRef key="item" minOccurs="1" maxOccurs="1"/>
                        </sequence>
                     </sequence>
                  </content>
               </elementSpec>
               <!-- end of ambiguity-fixing adjustments -->
               
            <!-- Additionally needed elements -->
            <moduleRef key="iso-fs" include="fs f symbol" source="https://www.tei-c.org/release/xml/tei/odd/p5subset.xml"/>
               
               <elementSpec ident="change" mode="change">
                  <content>
                     <alternate minOccurs="1" maxOccurs="1">
                        <elementRef key="measure"/>
                        <textNode/>
                     </alternate>
                  </content>
                  <exemplum>
                     <egXML xmlns="http://www.tei-c.org/ns/Examples">
                        <change when="2018-09-11">
                           <measure type="records" quantity="48"/>
                           <measure type="entries" quantity="10"/>
                           <measure type="entryFrees" quantity="0"/>
                           <measure type="lemmas" quantity="10"/>
                           <measure type="releasedLemmas" quantity="0"/>
                           <measure type="mwus" quantity="0"/>
                           <measure type="cits" quantity="38"/>
                           <measure type="releasedCits" quantity="0"/>
                           <measure type="released" quantity="0"/>
                        </change>
                     </egXML>
                  </exemplum>
                  <remarks><p>can either contain a textual description or a series <gi>change</gi> elements with statistical prpoerties of the dictionary at a given point of time (<att>when</att>).</p></remarks>
               </elementSpec>
               
               <elementSpec ident="measure" source="https://www.tei-c.org/release/xml/tei/odd/p5subset.xml" mode="add" module="core">
                  <classes mode="replace">
                     <memberOf/>
                  </classes>
                  <exemplum>
                     <egXML xmlns="http://www.tei-c.org/ns/Examples">
                        <change when="2018-09-11">
                           <measure type="records" quantity="48"/>
                           <measure type="entries" quantity="10"/>
                           <measure type="entryFrees" quantity="0"/>
                           <measure type="lemmas" quantity="10"/>
                           <measure type="releasedLemmas" quantity="0"/>
                           <measure type="mwus" quantity="0"/>
                           <measure type="cits" quantity="38"/>
                           <measure type="releasedCits" quantity="0"/>
                           <measure type="released" quantity="0"/>
                        </change>
                     </egXML>
                  </exemplum>
               </elementSpec>
               
               <elementRef key="interpretation" source="https://www.tei-c.org/release/xml/tei/odd/p5subset.xml"/>   

            <!-- 
               TODO We should have a finer-grained definition for <usg type="corpusFrequency">
               For the time being, I'm simply adding <q> and <val>.
               DS 2021-12-02
            -->
            <elementRef key="q" source="https://www.tei-c.org/release/xml/tei/odd/p5subset.xml"/>
            <elementRef key="val" source="https://www.tei-c.org/release/xml/tei/odd/p5subset.xml"/>   

           
             <classRef key="model.featureVal" source="https://www.tei-c.org/release/xml/tei/odd/p5subset.xml"/>
            <elementSpec ident="symbol" mode="change">
               <classes mode="change">
                  <memberOf key="model.featureVal"/>
               </classes>
            </elementSpec>
            
            <classRef key="att.measurement" source="https://www.tei-c.org/release/xml/tei/odd/p5subset.xml"/>
            
            <elementSpec ident="ptr" mode="change" module="core">
               <constraintSpec ident="example-target" scheme="schematron">
                  <desc>rules that govern ptr elements</desc>
                  <constraint>
                     <s:rule context="tei:ptr[@type = 'example'][matches(@target,'^#') and not(contains(@target,' '))]">
                        <s:assert test="exists(root()//tei:cit[@type = 'example'][@xml:id = current()/substring-after(@target,'#')])">unknown example with id "<s:value-of select="current()/substring-after(@target,'#')"/>"</s:assert>
                     </s:rule>
                     <s:rule context="tei:ptr[@type = 'example'][not(matches(@target,'^#')) or contains(@target,' ')]">
                        <s:report test="count(tokenize(@target,'\s')[.!='']) > 1">only one pointer allowed in @target</s:report>
                        <s:report test="not(starts-with(normalize-space(@target),'#'))">unexpected value "<s:value-of select="current()/@target"/>": the value of @target must be a fragment identifier pointing to an xml:id of a dictionary example (tei:cit[@type='example'])</s:report>
                     </s:rule>
                  </constraint>
               </constraintSpec>
            </elementSpec>
            
            <elementSpec ident="seg" mode="change" module="linking">
               <constraintSpec ident="seg-context" scheme="schematron">
                  <desc>assert correct context of seg</desc>
                  <constraint>
                     <s:rule context="tei:seg[@type = 'hint']">
                        <s:assert test="parent::tei:quote[parent::tei:cit[@type = 'translation']]">a hint segment must be inside a translation equivalent</s:assert>
                     </s:rule>
                  </constraint>
               </constraintSpec>
               <attList>
                  <attDef ident="type" mode="replace" usage="req">
                     <valList type="closed">
                        <valItem ident="hint">
                           <desc>a hint in a translation to narrow down the semantic scope of the particular item.</desc>  
                        </valItem>
                        <valItem ident="constrPart">
                           <desc>TODO add description ???</desc>
                        </valItem>
                     </valList>
                  </attDef>
               </attList>
            </elementSpec>
               
               
           

            <elementSpec ident="gram" mode="change" module="dictionaries">
               <attList>
                  <attDef ident="type" mode="change" usage="req">
                  <!-- extending gram/types of TEI Lex-0-->
                  <valList type="closed" mode="change">
                     <valItem ident="derivedVerbClass" mode="add" >
                        <desc>derived verb class</desc>
                        <remarks>
                           <p>In the VICAV dictionaries, we apply a mixed system of indicators mainly making use of the labels traditionally used in Arabic linguistics. In cases not covered by this system, we use labels analogous to Woidich 2006 (Das Kairenisch-Arabische).</p>
                        </remarks>
                     </valItem>
                     <valItem ident="synRoot" mode="add">
                        <desc>synchronous root</desc>
                     </valItem>
                     <valItem ident="diaRoot" mode="add">
                        <desc>diachronic root</desc>
                     </valItem>
                     <valItem ident="subc" mode="add">
                        <desc>any subcategory of another gram value</desc>
                     </valItem>
                     <valItem ident="derivedVerbClass" mode="add">
                        <desc>derived verb class</desc>
                        <remarks>
                           <p>In the VICAV dictionaries, we apply a mixed system of indicators mainly making use of the labels traditionally used in Arabic linguistics. In cases not covered by this system, we use labels analogous to Woidich 2006 (Das Kairenisch-Arabische).</p>
                        </remarks>
                     </valItem>
                     <valItem ident="person" mode="add"/>
                     
                     <valItem ident="morphPattern" mode="add">
                        <desc>morphological pattern</desc>
                     </valItem>
                     
                     <!--<valItem ident="arguments">
                        <desc>arguments to a verb</desc>
                     </valItem>
                     <valItem ident="morphType">
                        <desc>mophological type</desc>
                        <remarks>
                           <p>Many Arabic dialects have nominals which do not display feminine or plural forms. These are identified with a gram element and a morphType attribute.</p>
                        </remarks>
                     </valItem>
                     <valItem ident="aspect">
                        <desc>TODO description missing</desc>
                     </valItem>
                     <valItem ident="constraint">
                        <desc>describes an</desc>
                     </valItem>
                     <valItem ident="constr">
                        <desc>TODO description missing</desc>
                     </valItem>
                     
                    
                     <valItem ident="extension"/>
                     <valItem ident="frequency">
                        <desc>TODO description missing</desc>
                     </valItem>
                     <valItem ident="gender">
                        <desc>grammatical gender</desc>
                     </valItem>
                     <valItem ident="government">
                        <desc>TODO description missing</desc>
                     </valItem>
                     <valItem ident="inflectionType">
                        <desc>inflection type</desc>
                     </valItem>
                     <valItem ident="mood">
                        <desc>grammatical mood</desc>
                     </valItem>
                     <valItem ident="morph">
                        <desc>TODO description missing</desc>
                     </valItem>
                     
                     
                     <valItem ident="nominalState">
                        <desc>TODO description missing</desc>
                     </valItem>
                     <valItem ident="number">
                        <desc>grammatical number</desc>
                     </valItem>
                     <valItem ident="person">
                        <desc>TODO description missing</desc>
                     </valItem>
                     <valItem ident="pos">
                        <desc>part of speech type</desc>
                     </valItem>
                     <valItem ident="reg">
                        <desc>TODO description missing</desc>
                     </valItem>
                     <valItem ident="root">
                        <desc>consonantal root</desc>
                     </valItem>
                     
                     <valItem ident="subc">
                        <desc>subcategorization</desc>
                     </valItem>
                     
                     <valItem ident="usg">
                        <desc>hint on usage</desc>
                     </valItem>
                     
                     <valItem ident="synRoot">
                        <desc>synchronous root</desc>
                     </valItem>
                     <valItem ident="diaRoot">
                        <desc>diachronic root</desc>
                     </valItem>
                     -->
                  </valList>
               </attDef>
               </attList>
            </elementSpec>          
               
               <classSpec type="atts" ident="att.global" mode="change">
                  <constraintSpec ident="xml-lang-on-object-lang-elts" scheme="schematron" mode="add" xml:id="xml-lang-on-object-lang-elts">
                     <desc>assert that @xml:lang is added to elements with object language</desc>
                     <constraint>
                        <s:rule context="tei:cit[@type = ('etymon','translation','example','translationEquivalent')]|tei:entry|tei:gram[@type=('arguments','diaRoot','government','root','synRoot')]">
                           <s:assert test="exists(@xml:lang)">Elements containing object language must have an @xml:lang attribute.</s:assert>
                        </s:rule>
                     </constraint>
                  </constraintSpec>
               </classSpec>
               
            <!-- DS 2024-05-27: allowing placeName inside of usg as found in SHAWI dictionaries - 
               CHECKME: Do we want to include this here or is it specific to SHAWI ? -->
            <!-- changed placeName to name -->
            <elementSpec ident="usg" mode="change">
               <content>
                  <alternate>
                     <elementRef key="name" minOccurs="0" maxOccurs="unbounded"/>
                     <macroRef key="macro.lexicalParaContent"/>
                  </alternate>
               </content>
               <constraintSpec ident="name-in-usg" scheme="schematron">
                  <desc>assert that only usg type geographic contain a name element</desc>
                  <constraint>
                     <s:rule context="tei:usg[not(@type = 'geographic') and not(@type='socioCultural')]">
                        <s:report test="exists(tei:name)">the name element must only occur inside of usg elements with @type="geographic" or @type="socioCultural".</s:report> 
                     </s:rule>
                  </constraint>
               </constraintSpec>
            </elementSpec>
            
            <elementSpec ident="cit" mode="change" module="core">
               <content>
                  <sequence>
                     <elementRef key="usg" minOccurs="0" maxOccurs="unbounded"/>
                     <alternate minOccurs="1" maxOccurs="1">
                        <elementRef key="quote"/>
                        <elementRef key="form"/>
                     </alternate>
                     <alternate minOccurs="0" maxOccurs="unbounded">
                        <!-- both examples or translations have their textual content enclosed in quote elements -->
                        <!-- example entries may have 1–n nested translations -->
                        <elementRef key="cit" minOccurs="0" maxOccurs="unbounded"/>
                        <!--                           <elementRef key="usg"/>-->
                        <elementRef key="note"/>
                        <elementRef key="gloss"/>
                        <!-- ADDED DS 2024-05-26 -->
                        <!--we should align th  e content more closely to the content in Lex0-->
                     </alternate>
                     <elementRef key="listBibl" minOccurs="0" maxOccurs="1"/>
                     <!-- change history of example entries  -->
                     <elementRef key="fs" minOccurs="0" maxOccurs="unbounded"/>
                  </sequence>
               </content>
               <constraintSpec ident="cit-context" scheme="schematron">
                  <desc>assert correct context of cit types</desc>
                  <constraint>
                     <s:rule context="tei:cit[@type = 'translationEquivalent']">
                        <s:assert test="parent::tei:sense">translationEquivalent: must be a direct child of a sense element</s:assert>
                        <s:assert test="exists(child::tei:form[not(@type)])">translationEquivalent must contain a form without a type attribute </s:assert>
                     </s:rule>
                     <s:rule context="tei:cit[@type = 'translation']">
                        <s:assert test="parent::tei:cit[@type = 'example']">cit/type="translation" must be part of an example</s:assert>
                        <s:report test="* except (tei:quote|tei:usg)">a cit type translation may only contain 1) the translated text in a quote element, 2) the context of the translation in a tei:usg element</s:report>
                        <s:assert test="not(@subtype) or @subtype='literal'">only "literal" translations expected</s:assert>
                     </s:rule>
                     <s:rule context="tei:cit[@subtype = 'proverb']">
                        <s:assert test="@type = 'example'">unexpected value "<s:value-of
                           select="current()/@type"/>" in @type – a proverb must be encoded as cit type="example" subtype="proverb"</s:assert>
                     </s:rule>
                  </constraint>
               </constraintSpec>
               <attList>
                  <attDef ident="type" mode="change" usage="req">
                     <valList type="closed" mode="change">
                        <valItem ident="literalTranslation" mode="add" validUntil="2025-12-31">
                           <desc>literal translation</desc>
                           <desc type="deprecationInfo">cit[@type='literalTranslation'] is only allowed for backwards compatibility and should be replaced with cit[@type='translationEquivalent'][@subtype='literal']</desc>
                        </valItem>
                        <!-- CHECKME These are not deleted -->
                        <valItem ident="cognate" mode="delete"/>
                        <valItem ident="cognateSet" mode="delete"/>
                     </valList>
                  </attDef>
                  <attDef ident="subtype" mode="replace" usage="opt">
                     <valList type="closed">
                        <valItem ident="proverb">
                           <desc>Proverbs are a subtype of example.</desc>
                        </valItem>
                        <valItem ident="scientificName">
                           <desc>contains a scientific name of a plants or similar</desc>
                        </valItem>
                        <valItem ident="literal">
                           <desc>marks a translation to be a literal translation (instead of a idiomatic one)</desc>
                        </valItem>
                     </valList>
                  </attDef>
               </attList>
            </elementSpec>
               
               <elementSpec ident="listBibl" mode="change" module="core">
                  <content>
                     <!-- listBibls in the teiHeader can contain biblStruct, in all other contexts only bibl-->
                     <alternate minOccurs="1" maxOccurs="unbounded">
                        <elementRef key="bibl"/>
                        <elementRef key="biblStruct"/>
                     </alternate>
                  </content>
                  <constraintSpec ident="listBibl-context" scheme="schematron">
                     <constraint>
                        <s:rule context="tei:listBibl[ancestor::tei:body]">
                           <s:assert test="parent::tei:entry or parent::tei:cit[@type = 'example']">a listBibl is expected to be a direct child of an entry or an example</s:assert>
                           <s:assert test="not(tei:biblStruct)">a listBibl inside of an entry of an example is composed of bibl elements</s:assert>
                        </s:rule>
                     </constraint>
                  </constraintSpec>
                  <attList>
                     <attDef ident="type" mode="replace" usage="req">
                        <valList type="closed">
                           <valItem ident="dictionaries">
                              <desc>the listBibl is of type dictionaries</desc>
                           </valItem>
                           <valItem ident="corpora">
                              <desc>the listBibl is of type corpora</desc>
                           </valItem>
                           <valItem ident="literature">
                              <desc>the listBibl is of type literature</desc>
                           </valItem>
                        </valList>
                     </attDef>
                  </attList>
               </elementSpec>
               
               <elementSpec ident="ref" mode="change" module="core">
                  <desc>a reference either to a license or to an example</desc>
                  <content>
                     <empty/>
                  </content>
                  <constraintSpec ident="ref" scheme="schematron">
                     <constraint>
                        <s:rule context="tei:ref[@type = 'example']">
                           <s:assert test="exists(substring-after(.,':'))">Example with id "<s:value-of select="exists(//tei:cit[@type='example'][@xml:id=substring-after(current()/@target,'#')])"/>" not found</s:assert>
                        </s:rule>
                     </constraint>
                  </constraintSpec>
                  <attList>
                     <attDef ident="type" mode="change">
                        <valList type="closed">
                           <valItem ident="license" mode="add">
                              <desc>license</desc>
                           </valItem>
                           <valItem ident="example">
                              <desc>example</desc>
                           </valItem>
                        </valList>
                     </attDef>
                  </attList>
                  <remarks><p>In case of <val>example</val>, the <att>target</att> attribute should contain a pointer to a <tag>cit type="example"</tag>.</p></remarks>
               </elementSpec>
               <!--<elementSpec ident="placeName" mode="change" module="namesdates">
                  <
               </elementSpec>
            -->
            <elementSpec ident="form" mode="change" module="dictionaries">
               <constraintSpec ident="form-type" scheme="schematron">
                  <desc>assert content of correct context of @type values</desc>
                  <constraint>
                     <s:rule context="tei:form[not(parent::tei:cit)]">
                        <s:assert test="exists(@type)">@type is reqired on all forms except examples or translations.</s:assert>
                     </s:rule>
                     <s:rule context="tei:form[@type = 'variant']">
                        <s:assert test="parent::tei:form[@type = ('lemma','multiWordUnit', 'inflected')]">a variant must be a direct child of the main form (type = "lemma", "multiWordUnit" or "inflected").</s:assert>
                     </s:rule>
                     <s:rule context="tei:form[@type =  ('lemma', 'inflected')]">
                        <s:assert test="parent::tei:entry">a headword or inflected form must be a direct child of an entry element. </s:assert>
                     </s:rule>
                     <s:rule context="tei:form[@subtype='compound']">
                        <s:assert test="@type='lemma'">The subtype "compound" must be accompanied
                           by the type attribute "lemma".</s:assert>
                     </s:rule>
                  </constraint>
               </constraintSpec>
               <attList>
                  <attDef ident="type" mode="change" usage="opt">
                     <valList type="closed" mode="change">
                        <valItem ident="multiWordUnit" mode="add" validUntil="2025-12-31">
                           <desc>the headword of a MWU entry</desc>
                           <desc type="deprecationInfo">This attribute value is introduced for compatibility reasons and will be deprecated in the future. It should be replaced by @type="entry" and @subtype="compound".</desc>
                        </valItem>
                        
                        <valItem ident="construction" mode="add"> 
                           <desc/>
                        </valItem>
                        
                     </valList>
                  </attDef>
                  <attDef ident="subtype" mode="replace" usage="opt">
                     <valList type="closed">
                        <valItem ident="compound">
                           <desc>Used for multi-word units</desc>
                        </valItem>
                     </valList>
                  </attDef>
                  <attDef ident="ana" mode="change" usage="opt" validUntil="2025-12-31">
                     <desc type="deprecationInfo">ana on form is kept for backwards compatability but will be removed in a future versions of this ODD.</desc>
                  </attDef>
               </attList>
            </elementSpec>
         </schemaSpec>
         </div>
      </body>
   </text>
</TEI>